{% load static %}
<!-- Sidebar Navigation -->
<div class="sidebar-nav w-64 flex flex-col" style="background-color: #1a202c !important;">
    <div class="p-6 border-b border-gray-700">
        <div class="flex items-center justify-center">
            <img src="{% static 'LW.png' %}" alt="Lite Work Logo" class="w-50 h-16 object-contain" />
        </div>
    </div>
    <nav class="flex-1 p-4 space-y-2">
        <!-- Dashboard -->
        <a href="{% url 'erp:dashboard' %}" class="flex items-center px-4 py-3 rounded-lg sidebar-link {% if request.resolver_match.url_name == 'dashboard' %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
            <i class="fas fa-home mr-3"></i>
            <span>Dashboard</span>
        </a>

        <!-- Communications -->
        <div class="mt-6">
            <h3 class="text-xs font-semibold text-white uppercase tracking-wider mb-2">Communications</h3>
            <a href="{% url 'inbox' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'inbox' in request.resolver_match.url_name or 'email' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-inbox mr-3"></i>
                <span>Email Inbox</span>
            </a>
        </div>

        <!-- CRM -->
        <div class="mt-6">
            <h3 class="text-xs font-semibold text-white uppercase tracking-wider mb-2">Customer Relations</h3>
            <a href="{% url 'erp:customer_list' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'customer' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-users mr-3"></i>
                <span>Customers</span>
            </a>
            <a href="{% url 'erp:vendor_list' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'vendor' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-truck mr-3"></i>
                <span>Vendors</span>
            </a>
        </div>
        <!-- Sales & Marketing -->
        <div class="mt-6">
            <h3 class="text-xs font-semibold text-white uppercase tracking-wider mb-2">Sales & Marketing</h3>
            <a href="{% url 'erp:sales_order_list' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'sales' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-shopping-cart mr-3"></i>
                <span>Sales Orders</span>
            </a>
            <a href="{% url 'erp:product_list' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'product' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-box mr-3"></i>
                <span>Products</span>
            </a>
        </div>
        <!-- Procurement -->
        <div class="mt-6">
            <h3 class="text-xs font-semibold text-white uppercase tracking-wider mb-2">Procurement</h3>
            <a href="{% url 'erp:purchase_order_list' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'purchase' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-file-invoice mr-3"></i>
                <span>Purchase Orders</span>
            </a>
            <a href="{% url 'erp:inventory_list' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'inventory' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-warehouse mr-3"></i>
                <span>Inventory</span>
            </a>
        </div>
        <!-- Human Resources -->
        <div class="mt-6">
            <h3 class="text-xs font-semibold text-white uppercase tracking-wider mb-2">Human Resources</h3>
            <a href="{% url 'erp:employee_list' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'employee' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-user-tie mr-3"></i>
                <span>Employees</span>
            </a>
        </div>
        <!-- Finance & Accounting -->
        <div class="mt-6">
            <h3 class="text-xs font-semibold text-white uppercase tracking-wider mb-2">Finance</h3>
            <a href="{% url 'erp:payment_list' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'payment' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-credit-card mr-3"></i>
                <span>Payments</span>
            </a>
            <a href="{% url 'erp:invoice_list' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'invoice' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-file-invoice-dollar mr-3"></i>
                <span>Invoices</span>
            </a>
            <a href="{% url 'erp:financial_reports' %}" class="flex items-center px-4 py-2 rounded-lg sidebar-link {% if 'financial' in request.resolver_match.url_name %}bg-blue-600{% else %}hover:bg-gray-700 transition-colors{% endif %}" style="color: white !important;">
                <i class="fas fa-chart-line mr-3"></i>
                <span>Reports</span>
            </a>
        </div>
    </nav>
    <!-- User Menu -->
    <div class="p-4 border-t border-gray-700">
        <div class="flex items-center">
            <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center">
                <i class="fas fa-user text-sm"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm font-medium" style="color: white !important;">{{ user.get_full_name|default:user.username }}</p>
                <p class="text-xs text-gray-400" style="color: white !important;">{{ user.email }}</p>
            </div>
        </div>
    </div>
</div>
<style>
    /* Sidebar always dark, always white text, never overridden by global mode */
    /* Using more specific selectors to override global dark mode CSS */

    body .sidebar-nav {
        background-color: #1a202c !important;
        color: white !important;
    }

    body .sidebar-nav a,
    body .sidebar-nav span,
    body .sidebar-nav p,
    body .sidebar-nav h3,
    body .sidebar-nav i,
    body.dark .sidebar-nav a,
    body.dark .sidebar-nav span,
    body.dark .sidebar-nav p,
    body.dark .sidebar-nav h3,
    body.dark .sidebar-nav i,
    body:not(.dark) .sidebar-nav a,
    body:not(.dark) .sidebar-nav span,
    body:not(.dark) .sidebar-nav p,
    body:not(.dark) .sidebar-nav h3,
    body:not(.dark) .sidebar-nav i {
        color: white !important;
    }

    body .sidebar-nav a:hover,
    body.dark .sidebar-nav a:hover,
    body:not(.dark) .sidebar-nav a:hover {
        background-color: #374151 !important;
    }

    body .sidebar-nav a.bg-blue-600,
    body.dark .sidebar-nav a.bg-blue-600,
    body:not(.dark) .sidebar-nav a.bg-blue-600 {
        background-color: #2563eb !important;
    }

    /* Override any border colors that might change */
    body .sidebar-nav .border-gray-700,
    body.dark .sidebar-nav .border-gray-700,
    body:not(.dark) .sidebar-nav .border-gray-700 {
        border-color: #374151 !important;
    }
</style>
